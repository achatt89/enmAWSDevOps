<header class="hero-unit" id="banner">
  <div class="container">
    <h1>ENM AWS Deployment</h1>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-lg-12 ericssonFont">
      <div class="col-md-12 heading">
        <div class="col-md-5"><strong>Name</strong></div>
        <div class="col-md-2"><strong>Instance Type</strong></div>
        <div class="col-md-1"><strong>State</strong></div>
        <div class="col-md-2"><strong>Image ID</strong></div>
        <div class="col-md-2"><strong>Public IP</strong></div>
      </div>
      <div class="row">
        <div class="col-md-12 rowSpacing" ng-repeat="data in $ctrl.instanceList.Reservations track by $index"
             ng-click="$ctrl.showInfoDropDown($index)">
          <div class="col-md-5">{{data.Instances[0].Tags[0].Value}}</div>
          <div class="col-md-2">{{data.Instances[0].InstanceType}}</div>
          <!--EC2 State Start-->
          <div class="col-md-1" ng-if="data.Instances[0].State.Name==='running'" title='Running'>
            <i class="ebIcon ebIcon_big ebIcon_tick"></i></div>
          <div class="col-md-1" ng-if="data.Instances[0].State.Name==='stopped'" title='Stopped'>
            <i class="ebIcon ebIcon_big ebIcon_error"></i></div>
          <div class="col-md-1" ng-if="data.Instances[0].State.Name==='pending'" title='Pending'>
            <i class="ebIcon ebIcon_big ebIcon_warning"></i></div>
          <div class="col-md-1" ng-if="data.Instances[0].State.Name==='stopping'" title='Stopping'>
            <i class="ebIcon ebIcon_big ebIcon_invalid"></i></div>

          <div class="col-md-2">{{data.Instances[0].ImageId}}</div>
          <div class="col-md-2">{{data.Instances[0].PublicIpAddress}}</div>

          <!--EC2 Instance Info Drop Down-->
          <div class="col-md-12 instanceDropDown" ng-if="$ctrl.showInstanceInfo === $index">
            <div class="col-md-12"><span class="pull-right"ng-click="$ctrl.hideInstanceInfo($index)">X</span></div>
            <div class="col-md-3" ng-if="!data.Instances[0].EbsOptimized"><strong>EBS Optimised:</strong> FALSE</div>
            <div class="col-md-3" ng-if="data.Instances[0].EbsOptimized"><strong>EBS Optimised:</strong> TRUE</div>
            <div class="col-md-4"><strong>Instance ID:</strong> {{data.Instances[0].InstanceId}}</div>
            <div class="col-md-3"><strong>Launch Date:</strong>
              {{$ctrl.convertDateTime(data.Instances[0].LaunchTime) |date:'dd/MMM/yyyy'}}
            </div>



            <div class="col-md-12">
              <button type="button" class="btn btn-danger" ng-if="data.Instances[0].State.Name ==='running'" ng-click="$ctrl.stopInstance($index)">Stop Instance</button>
            </div>
            <div class="col-md-12">
              <button type="button" class="btn btn-success" ng-if="data.Instances[0].State.Name ==='stopped'" ng-click="$ctrl.restartInstance($index)">Restart Instance</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
